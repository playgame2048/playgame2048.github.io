<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sudoku Game</title>
<style>
 body {
   margin: 0;
   padding: 0;
   background: #ffffff;
   font-family: Arial, sans-serif;
   display: flex;
   flex-direction: column;
   align-items: center;
 }
 h1 {
   margin-top: 20px;
 }
 .top-controls {
   display: flex;
   gap: 10px;
   margin-top: 10px;
 }
 .top-controls button {
   padding: 10px 15px;
   border-radius: 8px;
   border: none;
   cursor: pointer;
   font-size: 14px;
 }
 .timer-box {
   display: flex;
   align-items: center;
   justify-content: center;
   width: 120px;
   height: 40px;
   background: #222;
   color: #fff;
   border-radius: 8px;
   font-size: 18px;
   gap: 10px;
 }
 .game-container {
   margin-top: 20px;
   display: flex;
   gap: 20px;
 }
 .sudoku-grid {
   display: grid;
   grid-template-columns: repeat(9, 40px);
   grid-template-rows: repeat(9, 40px);
   gap: 2px;
 }
 .cell {
   width: 40px;
   height: 40px;
   background: #f4f4f4;
   display: flex;
   justify-content: center;
   align-items: center;
   font-size: 20px;
   border: 1px solid #ccc;
   cursor: pointer;
 }
 .cell.prefilled {
   background: #ddd;
   font-weight: bold;
 }
 .cell.error {
   background: #ffcccc;
 }
 .bold-border-top { border-top: 3px solid #000; }
 .bold-border-left { border-left: 3px solid #000; }
 .bold-border-right { border-right: 3px solid #000; }
 .bold-border-bottom { border-bottom: 3px solid #000; }
 .numbers-panel {
   display: grid;
   grid-template-columns: repeat(9, 40px);
   gap: 5px;
   margin-top: 20px;
 }
 .num-btn {
   width: 40px;
   height: 40px;
   background: #fff;
   border: 2px solid #000;
   border-radius: 6px;
   cursor: pointer;
   font-size: 18px;
 }
 .num-btn.selected {
   background: #e0e0e0;
 }
 .difficulty-box {
   display: flex;
   gap: 10px;
   margin-top: 10px;
 }
 .difficulty-box button {
   padding: 8px 12px;
   border-radius: 6px;
   border: none;
   cursor: pointer;
   background: #f0f0f0;
 }
 .game-over {
   margin-top: 20px;
   font-size: 22px;
   color: red;
   display: none;
 }
</style>
</head>
<body>
<h1>Sudoku Game</h1>
<div class="top-controls">
  <button id="restartBtn">Restart</button>
  <button id="darkModeBtn">Dark Mode</button>
  <div class="timer-box">
    <span id="timer">00:00</span>
  </div>
  <button id="pauseBtn">⏸</button>
</div>

<div class="difficulty-box">
  <button id="easyBtn">Easy</button>
  <button id="mediumBtn">Medium</button>
  <button id="hardBtn">Difficult</button>
</div>

<div class="game-container">
  <div id="grid" class="sudoku-grid"></div>
</div>
<div class="numbers-panel" id="numbersPanel"></div>
<div class="game-over" id="gameOver">GAME OVER - Play Again</div>

<script>
let selectedNumber = null;
let errors = 0;
let timerInterval;
let time = 0;
let paused = false;

function startTimer() {
  clearInterval(timerInterval);
  timerInterval = setInterval(() => {
    if (!paused) {
      time++;
      let m = String(Math.floor(time / 60)).padStart(2, '0');
      let s = String(time % 60).padStart(2, '0');
      document.getElementById('timer').textContent = `${m}:${s}`;
    }
  }, 1000);
}

function pauseResume() {
  paused = !paused;
  document.getElementById('pauseBtn').textContent = paused ? '▶️' : '⏸';
}

document.getElementById('pauseBtn').onclick = pauseResume;

document.getElementById('restartBtn').onclick = () => {
  location.reload();
};

document.getElementById('darkModeBtn').onclick = () => {
  document.body.style.background = document.body.style.background === 'black' ? 'white' : 'black';
  document.body.style.color = document.body.style.color === 'white' ? 'black' : 'white';
};

function buildNumbersPanel() {
  const panel = document.getElementById('numbersPanel');
  panel.innerHTML = '';
  for (let i = 1; i <= 9; i++) {
    const btn = document.createElement('button');
    btn.className = 'num-btn';
    btn.textContent = i;
    btn.onclick = () => {
      document.querySelectorAll('.num-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      selectedNumber = i;
    };
    panel.appendChild(btn);
  }
}

function buildGrid() {
  const grid = document.getElementById('grid');
  grid.innerHTML = '';
  for (let r = 0; r < 9; r++) {
    for (let c = 0; c < 9; c++) {
      const cell = document.createElement('div');
      cell.className = 'cell';

      if (r % 3 === 0) cell.classList.add('bold-border-top');
      if (c % 3 === 0) cell.classList.add('bold-border-left');
      if (c === 8) cell.classList.add('bold-border-right');
      if (r === 8) cell.classList.add('bold-border-bottom');

      cell.onclick = () => placeNumber(cell);
      grid.appendChild(cell);
    }
  }
}

function placeNumber(cell) {
  if (!selectedNumber) return;

  if (cell.textContent !== '' && cell.textContent != selectedNumber) {
    cell.classList.add('error');
    errors++;
    if (errors >= 4) endGame();
    return;
  }

  cell.textContent = selectedNumber;
  cell.style.color = 'black';
}

function endGame() {
  document.getElementById('gameOver').style.display = 'block';
  paused = true;
}

buildNumbersPanel();
buildGrid();
startTimer();
</script>
</body>
</html>
